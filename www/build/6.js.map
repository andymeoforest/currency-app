{"version":3,"sources":["../../src/pages/currencylist/currencylist.ts","../../src/pages/currencylist/currencylist.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAkD;AACO;AAGU;AAER;AACC;AAE5D;;;;;GAKG;AAQH;IAKE,0BAAmB,OAAsB,EAAS,SAAoB,EAAU,eAA+B,EAAU,aAA2B;QAAjI,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAU,oBAAe,GAAf,eAAe,CAAgB;QAAU,kBAAa,GAAb,aAAa,CAAc;QAClJ,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAChE,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IACD,mCAAQ,GAAR;QACE,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IACD,yCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;IACjD,CAAC;IACD,0CAAe,GAAf;QAAA,iBAEC;QADC,IAAI,CAAC,eAAe,CAAC,eAAe,EAAE,CAAC,SAAS,CAAC,sBAAY,IAAI,YAAI,CAAC,YAAY,GAAG,YAAY,EAAhC,CAAgC,CAAC,CAAC;IACrG,CAAC;IACD,sCAAW,GAAX;QACE,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,yFAAiB,EAAC,EAAC,IAAI,EAAC,IAAI,CAAC,YAAY,EAAC,CAAC,CAAC;IAChE,CAAC;IACD,mCAAQ,GAAR;QAAA,iBAWC;QAVC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,aAAG;YAClE,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAE,GAAW,CAAC,KAAK,CAAC,CAAC;YAC5C,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;YACnC,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,aAAa,CAAC,CAAC;YAChC,KAAK,CAAC,OAAO,CAAC,WAAC;gBACb,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACf,OAAO,CAAC,GAAG,CAAE,GAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnC,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC,EAAE,GAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAChE,CAAC,CAAC;QACJ,CAAC,CAAC;IACJ,CAAC;IACD,yCAAc,GAAd,UAAe,KAAK;QAClB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;IAC3C,CAAC;IAED,yCAAc,GAAd,UAAe,KAAK;QAClB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QACjD,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IA1CU,gBAAgB;QAJ5B,wEAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;WACG;SACjC,CAAC;yBAMoJ;OALzI,gBAAgB,CA4C5B;IAAD,CAAC;AAAA;SA5CY,gBAAgB,e;;;;;;;;;;;;;;;;;;;ACtBY;AACO;AACE;AAUlD;IAAA;IAAqC,CAAC;IAAzB,sBAAsB;QARlC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,uEAAgB;aACjB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,uEAAgB,CAAC;aAC3C;SACF,CAAC;OACW,sBAAsB,CAAG;IAAD,6BAAC;CAAA;AAAH","file":"6.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Currency } from '../data/currency'; \nimport { Pipe, PipeTransform} from '@angular/core';\nimport {AllCurrenciesPage} from '../all-currencies/all-currencies';\nimport { MyCurrency } from '../data/mycurrency';\nimport { CurrencyService } from '../data/currency.service';\nimport { RatesProvider } from '../../providers/rates/rates';\n\n/**\n * Generated class for the CurrencylistPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n\n@Component({\n  selector: 'page-currencylist',\n  templateUrl: 'currencylist.html',\n})\nexport class CurrencylistPage implements OnInit{\n  currencyList:MyCurrency[];\n  selectedCurrency:MyCurrency;\n  currencyRates:any[];\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private currencyService:CurrencyService, private ratesProvider:RatesProvider) {\n    this.selectedCurrency = this.currencyService.getCurrency(\"CAD\");\n    this.getRates();\n  }\n  ngOnInit(){\n    this.getCurrencyList();\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CurrencylistPage');\n  }\n  getCurrencyList():void{\n    this.currencyService.getCurrencyList().subscribe(currencyList => this.currencyList = currencyList); \n  }\n  addCurrency(){\n    console.log(\"push\");\n    this.navCtrl.push(AllCurrenciesPage,{list:this.currencyList});\n  }\n  getRates(){\n    this.ratesProvider.getRates(this.selectedCurrency.key).subscribe(res=>{\n      let rates = Object.keys((res as any).rates);\n      this.currencyRates = rates.slice();\n      console.log(this.currencyRates);\n      rates.forEach(k=>{\n        console.log(k);\n        console.log((res as any).rates[k]);\n        this.currencyService.setCurrencyRate(k,(res as any).rates[k]);\n      })\n    })\n  }\n  deleteCurrency(index){\n    console.log(index);\n    this.currencyList[index].isfavor = false;\n  }\n\n  selectCurrency(index){\n    this.selectedCurrency = this.currencyList[index];\n    this.getRates();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/currencylist/currencylist.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CurrencylistPage } from './currencylist';\n\n@NgModule({\n  declarations: [\n    CurrencylistPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CurrencylistPage),\n  ],\n})\nexport class CurrencylistPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/currencylist/currencylist.module.ts"],"sourceRoot":""}